module.export = {
   $jsonSchema: {
      bsonType: "object",
      required: ["resultId", "documentId", "resultFile", "rawResultData", "processingEngine", "documentInfo", "documentLineItems"],
      properties: {
         resultId: {
            bsonType: "string",
            description: "unique identifier of the result. auto-generated by the API/database"
         },
         documentId: {
            bsonType: "string",
            description: "identifier of the document"
         },
         templateId: {
            bsonType: "string",
            description: ""
         },
         resultFile: {
            bsonType: "string",
            description: ""
         },
         rawResultData: {
            bsonType: "string",
            description: ""
         },
         processingEngine: {
            bsonType: "string",
            description: ""
         },
         documentInfo: {
            bsonType: "array",
            required: ["fieldId", "fieldValue", "confidence"],
            properties: {
               fieldId: {
                  bsonType: "string",
                  description: "field identifier (as per master data list), required field"
               },
               fieldValue: {
                  bsonType: "string",
                  "description": ""
               },
               confidence: {
                  bsonType: "double",
                  description: ""
               },
               boundingBox: {
                  bsonType: "object",
                  "description": "contains left, right, top and bottom co-ordinates"
               },
               pageNumber: {
                  bsonType: "string",
                  description: ""
               },
               error: {
                  bsonType: "string",
                  description: "error message, if there is an error while extracting this field"
               },
               correctedValue: {
                  bsonType: "string",
                  "description": ""
               },
               correctedOn: {
                  bsonType: "timestamp",
                  description: ""
               },
               correctedBy: {
                  bsonType: "string",
                  "description": ""
               }
            }
         },
         documentLineItems: {
            bsonType: "array",
            required: ["pageNumber", "rowNumber", "fieldset"],
            properties: {
               pageNumber: {
                  bsonType: "int",
                  description: "must be a string if the field exists"
               },
               rowNumber: {
                  bsonType: "int",
                  "description": "must be a string and is required"
               },
               fieldset: {
                  bsonType: "array",
                  required: ["fieldId", "fieldValue", "confidence"],
                  properties: {
                     fieldId: {
                        bsonType: "string",
                        description: ""
                     },
                     fieldValue: {
                        bsonType: "string",
                        "description": ""
                     },
                     confidence: {
                        bsonType: "double",
                        description: ""
                     },
                     boundingBox: {
                        bsonType: "string",
                        "description": ""
                     },
                     pageNumber: {
                        bsonType: "string",
                        description: ""
                     },
                     error: {
                        bsonType: "string",
                        description: ""
                     },
                     correctedValue: {
                        bsonType: "string",
                        "description": ""
                     },
                     correctedOn: {
                        bsonType: "timestamp",
                        description: ""
                     },
                     correctedBy: {
                        bsonType: "string",
                        "description": ""
                     }
                  }
               }
            }
         }
      }
   }
}